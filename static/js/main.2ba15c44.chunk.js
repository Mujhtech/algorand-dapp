(this["webpackJsonpalgorand-dapp"]=this["webpackJsonpalgorand-dapp"]||[]).push([[0],{183:function(e,t,n){"use strict";t.a='#pragma version 6\ntxn ApplicationID\nint 0\n==\nbnz main_l8\ntxn OnCompletion\nint DeleteApplication\n==\nbnz main_l7\ntxna ApplicationArgs 0\nbyte "buy"\n==\nbnz main_l6\ntxna ApplicationArgs 0\nbyte "rate"\n==\nbnz main_l5\nerr\nmain_l5:\nbyte "RATE"\ntxna ApplicationArgs 1\nbtoi\napp_global_put\nint 1\nreturn\nmain_l6:\nbyte "BOUGHT"\nint 1\napp_global_put\nbyte "BUYER"\ntxna ApplicationArgs 1\napp_global_put\nint 1\nreturn\nmain_l7:\ntxn Sender\nglobal CreatorAddress\n==\nreturn\nmain_l8:\ntxn NumAppArgs\nint 5\n==\nassert\ntxn Note\nbyte "property-dapp:uv2"\n==\nassert\nbyte "TITLE"\ntxna ApplicationArgs 0\napp_global_put\nbyte "IMAGE"\ntxna ApplicationArgs 1\napp_global_put\nbyte "LOCATION"\ntxna ApplicationArgs 2\napp_global_put\nbyte "BOUGHT"\nint 0\napp_global_put\nbyte "RATE"\nint 0\napp_global_put\nbyte "OWNER"\ntxna ApplicationArgs 3\napp_global_put\nbyte "BUYER"\ntxna ApplicationArgs 3\napp_global_put\nbyte "PRICE"\ntxna ApplicationArgs 4\nbtoi\napp_global_put\nint 1\nreturn'},184:function(e,t,n){"use strict";t.a="#pragma version 6\nint 1\nreturn"},191:function(e,t,n){},212:function(e,t){},214:function(e,t){},224:function(e,t){},226:function(e,t){},23:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return o})),n.d(t,"e",(function(){return s})),n.d(t,"d",(function(){return i})),n.d(t,"b",(function(){return l})),n.d(t,"c",(function(){return u}));var a=n(9),r=n(117),c=n.n(r),o=function(t){return e.from(t,"base64").toString("utf-8")},s=function(t){return e.from(t,"utf8").toString("base64")},i=function(e){if(e)return e.slice(0,5)+"..."+e.slice(e.length-5,e.length)},l=function(e){if(e)return new c.a(e).shiftedBy(-a.a).toFixed(3)},u=function(e){if(e)return new c.a(e).shiftedBy(a.a).toNumber()}}).call(this,n(14).Buffer)},253:function(e,t){},254:function(e,t){},259:function(e,t){},261:function(e,t){},268:function(e,t){},287:function(e,t){},322:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(32),o=n.n(c),s=n(10),i=n(19),l=n(6),u=n(178),b=n(1),p=function(e){var t=e.name,n=e.coverImg,a=e.connect;return Object(b.jsxs)("div",{className:"d-flex justify-content-center flex-column text-center bg-black min-vh-100",children:[Object(b.jsxs)("div",{className:"mt-auto text-light mb-5",children:[Object(b.jsx)("div",{className:" ratio ratio-1x1 mx-auto mb-2",style:{maxWidth:"320px"},children:Object(b.jsx)("img",{src:n,alt:""})}),Object(b.jsx)("h1",{children:t}),Object(b.jsx)("p",{children:"Please connect your wallet to continue."}),Object(b.jsx)(u.a,{onClick:function(){return a()},variant:"outline-light",className:"rounded-pill px-3 mt-3",children:"Connect Wallet"})]}),Object(b.jsx)("p",{className:"mt-auto text-secondary",children:"Powered by Algorand"})]})},d=(n(191),n(332)),j=n(328),x=n(337),f=n(23),O=n(2),m=n(3),h=n(180),g=n.n(h),y=["size","address"],v=function(e){var t=e.size,n=e.address,a=Object(m.a)(e,y);return Object(b.jsx)("div",Object(O.a)(Object(O.a)({},a),{},{style:{width:"".concat(t,"px"),height:"".concat(t,"px")},children:Object(b.jsx)(g.a,{diameter:t,seed:parseInt(n.slice(2,10),16)})}))},w=function(e){var t=e.address,n=e.name,a=e.amount,r=e.symbol,c=e.disconnect;return t?Object(b.jsx)(b.Fragment,{children:Object(b.jsxs)(d.a,{children:[Object(b.jsxs)(d.a.Toggle,{variant:"light",align:"end",id:"dropdown-basic",className:"d-flex align-items-center border rounded-pill py-1",children:[a?Object(b.jsxs)(b.Fragment,{children:[Object(f.b)(a),Object(b.jsxs)("span",{className:"ms-1",children:[" ",r]})]}):Object(b.jsx)(j.a,{animation:"border",size:"sm",className:"opacity-25"}),Object(b.jsx)(v,{address:t,size:28,className:"ms-2 me-1"})]}),Object(b.jsxs)(d.a.Menu,{className:"shadow-lg border-0",children:[Object(b.jsx)(d.a.Item,{href:"https://testnet.algoexplorer.io/address/".concat(t),target:"_blank",children:Object(b.jsxs)(x.a,{direction:"horizontal",gap:2,children:[Object(b.jsx)("i",{className:"bi bi-person-circle fs-4"}),Object(b.jsxs)("div",{className:"d-flex flex-column",children:[n&&Object(b.jsx)("span",{className:"font-monospace",children:n}),Object(b.jsx)("span",{className:"font-monospace",children:Object(f.d)(t)})]})]})}),Object(b.jsx)(d.a.Divider,{}),Object(b.jsxs)(d.a.Item,{as:"button",className:"d-flex align-items-center",onClick:function(){c()},children:[Object(b.jsx)("i",{className:"bi bi-box-arrow-right me-2 fs-4"}),"Disconnect"]})]})]})}):null},N=n(331),A=n(335),T=n(31),C=n(333),I=n(334),k=n(182),P=function(e){var t=e.createProperty,n=Object(a.useState)(""),r=Object(l.a)(n,2),c=r[0],o=r[1],s=Object(a.useState)(""),i=Object(l.a)(s,2),p=i[0],d=i[1],j=Object(a.useState)(""),x=Object(l.a)(j,2),O=x[0],m=x[1],h=Object(a.useState)(0),g=Object(l.a)(h,2),y=g[0],v=g[1],w=Object(a.useCallback)((function(){return c&&p&&O&&y>0}),[c,p,O,y]),N=Object(a.useState)(!1),A=Object(l.a)(N,2),T=A[0],P=A[1],_=function(){return P(!1)};return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(u.a,{onClick:function(){return P(!0)},variant:"dark",className:"rounded-pill px-0",style:{width:"38px"},children:Object(b.jsx)("i",{className:"bi bi-plus"})}),Object(b.jsxs)(C.a,{show:T,onHide:_,centered:!0,children:[Object(b.jsx)(C.a.Header,{closeButton:!0,children:Object(b.jsx)(C.a.Title,{children:"New Property"})}),Object(b.jsx)(I.a,{children:Object(b.jsxs)(C.a.Body,{children:[Object(b.jsx)(k.a,{controlId:"inputName",label:"Property title",className:"mb-3",children:Object(b.jsx)(I.a.Control,{type:"text",onChange:function(e){o(e.target.value)},placeholder:"Enter property title"})}),Object(b.jsx)(k.a,{controlId:"inputUrl",label:"Image URL",className:"mb-3",children:Object(b.jsx)(I.a.Control,{type:"text",placeholder:"Image URL",value:p,onChange:function(e){d(e.target.value)}})}),Object(b.jsx)(k.a,{controlId:"inputLocation",label:"Location",className:"mb-3",children:Object(b.jsx)(I.a.Control,{type:"text",placeholder:"Location",onChange:function(e){m(e.target.value)}})}),Object(b.jsx)(k.a,{controlId:"inputPrice",label:"Price in ALGO",className:"mb-3",children:Object(b.jsx)(I.a.Control,{type:"text",placeholder:"Price",onChange:function(e){v(Object(f.c)(e.target.value))}})})]})}),Object(b.jsxs)(C.a.Footer,{children:[Object(b.jsx)(u.a,{variant:"outline-secondary",onClick:_,children:"Close"}),Object(b.jsx)(u.a,{variant:"dark",disabled:!w(),onClick:function(){t({title:c,image:p,location:O,price:y}),_()},children:"Save propery"})]})]})]})},_=n(181),B=n(336),E=n(329),F=function(e){var t=e.address,n=e.property,r=e.buyProperty,c=e.deleteProperty,o=e.rateProperty,s=n.title,i=n.image,p=n.location,d=n.price,j=n.bought,O=n.appId,m=n.owner,h=Object(a.useState)(n.rate),g=Object(l.a)(h,2),y=g[0],w=g[1];return Object(b.jsx)(_.a,{children:Object(b.jsxs)(B.a,{className:"h-100",children:[Object(b.jsx)(B.a.Header,{children:Object(b.jsxs)(x.a,{direction:"horizontal",gap:2,children:[Object(b.jsx)("span",{className:"font-monospace text-secondary",children:Object(f.d)(m)}),Object(b.jsx)(v,{size:28,address:m}),Object(b.jsx)(E.a,{bg:1===j?"success":"secondary",className:"ms-auto",children:1===j?"Bought":"Available"})]})}),Object(b.jsx)("div",{className:"ratio ratio-4x3",children:Object(b.jsx)("img",{src:i,alt:s,style:{objectFit:"cover"}})}),Object(b.jsxs)(B.a.Body,{className:"d-flex flex-column text-center",children:[Object(b.jsx)(B.a.Title,{children:s}),Object(b.jsx)(B.a.Text,{className:"flex-grow-1",children:p}),Object(b.jsxs)(I.a,{className:"d-flex align-content-stretch flex-row gap-2",children:[Object(b.jsx)(u.a,{variant:1===j?"outline-success":"outline-dark",onClick:function(){return r(n)},className:1===j?"w-75 py-3":"btn w-75 py-3",disabled:1===j,children:1===j?"Bought":"Buy for ".concat(Object(f.b)(d)," ALGO")}),n.owner===t&&1!==j&&Object(b.jsx)(u.a,{variant:"outline-danger",onClick:function(){return c(n)},className:"btn",children:Object(b.jsx)("i",{className:"bi bi-trash"})}),1===j&&Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(k.a,{controlId:"inputCount",label:n.rate>0?"Rated":"Rate",className:"w-25",children:Object(b.jsx)(I.a.Control,{type:"number",value:y,min:"1",max:"10",readOnly:n.rate>0||n.buyer!==t,onChange:function(e){w(Number(e.target.value))}})}),Object(b.jsx)(u.a,{variant:"outline-secondary",onClick:function(){return o(n,y)},disabled:n.rate>0||n.buyer!==t,children:Object(b.jsx)("i",{className:n.rate>5?"bi bi-star-fill":n.rate>0?"bi bi-star-half":"bi bi-star"})})]})]})]})]})},O)},S=function(){return Object(b.jsx)("div",{className:"d-flex justify-content-center",children:Object(b.jsx)(j.a,{animation:"border",role:"status",className:"opacity-25",children:Object(b.jsx)("span",{className:"visually-hidden",children:"Loading..."})})})},R=function(){return Object(b.jsx)(T.a,{position:"bottom-center",autoClose:5e3,hideProgressBar:!0,newestOnTop:!0,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!1,pauseOnHover:!0})},L=function(e){var t=e.text;return Object(b.jsxs)("div",{children:[Object(b.jsx)("i",{className:"bi bi-check-circle-fill text-success mx-2"}),Object(b.jsx)("span",{className:"text-secondary mx-1",children:t})]})},D=function(e){var t=e.text;return Object(b.jsxs)("div",{children:[Object(b.jsx)("i",{className:"bi bi-x-circle-fill text-danger mx-2"}),Object(b.jsx)("span",{className:"text-secondary mx-1",children:t})]})},G={text:""};L.defaultProps=G,D.defaultProps=G;var U=n(330),z=n(64),H=function(e){var t=e.address,n=e.fetchBalance,r=Object(a.useState)([]),c=Object(l.a)(r,2),o=c[0],u=c[1],p=Object(a.useState)(!1),d=Object(l.a)(p,2),j=d[0],x=d[1],f=function(){var e=Object(i.a)(Object(s.a)().mark((function e(){return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:x(!0),Object(T.b)(Object(b.jsx)(L,{text:"Fetching properties"})),Object(z.d)().then((function(e){e&&u(e)})).catch((function(e){console.log(e)})).finally((function(e){x(!1)}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){f()}),[]);var O=function(){var e=Object(i.a)(Object(s.a)().mark((function e(a){return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:x(!0),Object(z.b)(t,a).then((function(){Object(T.b)(Object(b.jsx)(L,{text:"Propery added successfully."})),f(),n(t)})).catch((function(e){console.log(e),Object(T.b)(Object(b.jsx)(D,{text:"Failed to create a product."})),x(!1)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),m=function(){var e=Object(i.a)(Object(s.a)().mark((function e(a){return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:x(!0),Object(z.a)(t,a).then((function(){Object(T.b)(Object(b.jsx)(L,{text:"Property bought successfully"})),f(),n(t)})).catch((function(e){console.log(e),Object(T.b)(Object(b.jsx)(D,{text:"Failed to purchase property."})),x(!1)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),h=function(){var e=Object(i.a)(Object(s.a)().mark((function e(a,r){return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:x(!0),Object(z.e)(t,a,r).then((function(){Object(T.b)(Object(b.jsx)(L,{text:"Property rated successfully"})),f(),n(t)})).catch((function(e){console.log(e),Object(T.b)(Object(b.jsx)(D,{text:"Failed to rate property."})),x(!1)}));case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),g=function(){var e=Object(i.a)(Object(s.a)().mark((function e(a){return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:x(!0),Object(z.c)(t,a.appId).then((function(){Object(T.b)(Object(b.jsx)(L,{text:"Property deleted successfully"})),f(),n(t)})).catch((function(e){console.log(e),Object(T.b)(Object(b.jsx)(D,{text:"Failed to delete property."})),x(!1)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return j?Object(b.jsx)(S,{}):Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)("div",{className:"d-flex justify-content-between align-items-center mb-4",children:[Object(b.jsx)("h1",{className:"fs-4 fw-bold mb-0",children:"Properties"}),Object(b.jsx)(P,{createProperty:O})]}),Object(b.jsx)(U.a,{xs:1,sm:2,lg:3,className:"g-3 mb-5 g-xl-4 g-xxl-5",children:Object(b.jsx)(b.Fragment,{children:o.map((function(e,n){return Object(b.jsx)(F,{address:t,property:e,buyProperty:m,deleteProperty:g,rateProperty:h},n)}))})})]})},M=n(9),W=function(){var e=Object(a.useState)(null),t=Object(l.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)(null),o=Object(l.a)(c,2),u=o[0],d=o[1],j=Object(a.useState)(0),x=Object(l.a)(j,2),f=x[0],O=x[1],m=function(){var e=Object(i.a)(Object(s.a)().mark((function e(t){return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:M.c.lookupAccountByID(t).do().then((function(e){var t=e.account.amount;O(t)})).catch((function(e){console.log(e)}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),h=function(){var e=Object(i.a)(Object(s.a)().mark((function e(){return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:M.e.connect().then((function(e){var t=e[0];r(t.address),d(t.name),m(t.address)})).catch((function(e){console.log("Could not connect to MyAlgo wallet"),console.error(e)}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(R,{}),n?Object(b.jsxs)(N.a,{fluid:"md",children:[Object(b.jsx)(A.a,{className:"justify-content-end pt-3 pb-5",children:Object(b.jsx)(A.a.Item,{children:Object(b.jsx)(w,{address:n,name:u,amount:f,disconnect:function(){r(null),d(null),O(null)},symbol:"ALGO"})})}),Object(b.jsx)("main",{children:Object(b.jsx)(H,{address:n,fetchBalance:m})})]}):Object(b.jsx)(p,{name:"Housing Property Dapp",coverImg:"https://209859-635214-1-raikfcquaxqncofqfm.stackpathdns.com/wp-content/uploads/2018/09/affordable_housing-1024x562.jpg",connect:h})]})},Y=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,338)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,o=t.getTTFB;n(e),a(e),r(e),c(e),o(e)}))};n(319),n(320),n(321);o.a.render(Object(b.jsx)(r.a.StrictMode,{children:Object(b.jsx)(W,{})}),document.getElementById("root")),Y()},64:function(e,t,n){"use strict";(function(e){n.d(t,"b",(function(){return f})),n.d(t,"a",(function(){return O})),n.d(t,"e",(function(){return m})),n.d(t,"c",(function(){return h})),n.d(t,"d",(function(){return g}));var a=n(62),r=n(10),c=n(19),o=n(60),s=n(59),i=n(15),l=n.n(i),u=n(9),b=n(183),p=n(184),d=n(23),j=Object(o.a)((function e(t,n,a,r,c,o,i,l,u){Object(s.a)(this,e),this.title=t,this.image=n,this.location=a,this.price=r,this.bought=c,this.rate=o,this.buyer=i,this.appId=l,this.owner=u})),x=function(){var t=Object(c.a)(Object(r.a)().mark((function t(n){var a,c,o;return Object(r.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=new TextEncoder,c=a.encode(n),t.next=4,u.b.compile(c).do();case 4:return o=t.sent,t.abrupt("return",new Uint8Array(e.from(o.result,"base64")));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),f=function(){var e=Object(c.a)(Object(r.a)().mark((function e(t,n){var a,c,o,s,i,d,j,f,O,m,h,g,y,v,w,N;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Adding property..."),e.next=3,u.b.getTransactionParams().do();case 3:return a=e.sent,e.next=6,x(b.a);case 6:return c=e.sent,e.next=9,x(p.a);case 9:return o=e.sent,s=(new TextEncoder).encode(u.j),i=(new TextEncoder).encode(n.title),d=(new TextEncoder).encode(n.image),j=(new TextEncoder).encode(n.location),f=l.a.encodeUint64(n.price),O=(new TextEncoder).encode(t),m=[i,d,j,O,f],h=l.a.makeApplicationCreateTxnFromObject({from:t,suggestedParams:a,onComplete:l.a.OnApplicationComplete.NoOpOC,approvalProgram:c,clearProgram:o,numLocalInts:u.i,numLocalByteSlices:u.h,numGlobalInts:u.g,numGlobalByteSlices:u.f,note:s,appArgs:m}),g=h.txID().toString(),e.next=21,u.e.signTransaction(h.toByte());case 21:return y=e.sent,console.log("Signed transaction with txID: %s",g),e.next=25,u.b.sendRawTransaction(y.blob).do();case 25:return e.next=27,l.a.waitForConfirmation(u.b,g,4);case 27:return v=e.sent,console.log("Transaction "+g+" confirmed in round "+v["confirmed-round"]),e.next=31,u.b.pendingTransactionInformation(g).do();case 31:return w=e.sent,N=w["application-index"],console.log("Created new app-id: ",N),e.abrupt("return",N);case 35:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),O=function(){var e=Object(c.a)(Object(r.a)().mark((function e(t,n){var a,c,o,s,i,b,p,d,j,x,f,O;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Buying property..."),e.next=3,u.b.getTransactionParams().do();case 3:for(a=e.sent,c=(new TextEncoder).encode("buy"),o=(new TextEncoder).encode(t),s=[c,o],i=l.a.makeApplicationCallTxnFromObject({from:t,appIndex:n.appId,onComplete:l.a.OnApplicationComplete.NoOpOC,suggestedParams:a,appArgs:s}),b=l.a.makePaymentTxnWithSuggestedParamsFromObject({from:t,to:n.owner,amount:n.price,suggestedParams:a}),p=[i,b],d=l.a.computeGroupID(p),j=0;j<2;j++)p[j].group=d;return e.next=14,u.e.signTransaction(p.map((function(e){return e.toByte()})));case 14:return x=e.sent,console.log("Signed group transaction"),e.next=18,u.b.sendRawTransaction(x.map((function(e){return e.blob}))).do();case 18:return f=e.sent,e.next=21,l.a.waitForConfirmation(u.b,f.txId,4);case 21:O=e.sent,console.log("Group transaction "+f.txId+" confirmed in round "+O["confirmed-round"]);case 23:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),m=function(){var e=Object(c.a)(Object(r.a)().mark((function e(t,n,a){var c,o,s,i,b,p,d,j,x,f,O;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Rate property..."),e.next=3,u.b.getTransactionParams().do();case 3:for(c=e.sent,o=(new TextEncoder).encode("rate"),s=l.a.encodeUint64(a),i=[o,s],b=l.a.makeApplicationCallTxnFromObject({from:t,appIndex:n.appId,onComplete:l.a.OnApplicationComplete.NoOpOC,suggestedParams:c,appArgs:i}),p=[b],d=l.a.computeGroupID(p),j=0;j<1;j++)p[j].group=d;return e.next=13,u.e.signTransaction(p.map((function(e){return e.toByte()})));case 13:return x=e.sent,console.log("Signed group transaction"),e.next=17,u.b.sendRawTransaction(x.map((function(e){return e.blob}))).do();case 17:return f=e.sent,e.next=20,l.a.waitForConfirmation(u.b,f.txId,4);case 20:O=e.sent,console.log("Group transaction "+f.txId+" confirmed in round "+O["confirmed-round"]);case 22:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),h=function(){var e=Object(c.a)(Object(r.a)().mark((function e(t,n){var a,c,o,s,i,b,p;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Deleting application..."),e.next=3,u.b.getTransactionParams().do();case 3:return a=e.sent,c=l.a.makeApplicationDeleteTxnFromObject({from:t,suggestedParams:a,appIndex:n}),o=c.txID().toString(),e.next=8,u.e.signTransaction(c.toByte());case 8:return s=e.sent,console.log("Signed transaction with txID: %s",o),e.next=12,u.b.sendRawTransaction(s.blob).do();case 12:return e.next=14,l.a.waitForConfirmation(u.b,o,4);case 14:return i=e.sent,console.log("Transaction "+o+" confirmed in round "+i["confirmed-round"]),e.next=18,u.b.pendingTransactionInformation(o).do();case 18:b=e.sent,p=b.txn.txn.apid,console.log("Deleted app-id: ",p);case 21:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),g=function(){var t=Object(c.a)(Object(r.a)().mark((function t(){var n,c,o,s,i,l,b,p,d;return Object(r.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("Fetching properties..."),n=(new TextEncoder).encode(u.j),c=e.from(n).toString("base64"),t.next=5,u.c.searchForTransactions().notePrefix(c).txType("appl").minRound(u.d).do();case 5:o=t.sent,s=[],i=Object(a.a)(o.transactions),t.prev=8,i.s();case 10:if((l=i.n()).done){t.next=20;break}if(b=l.value,!(p=b["created-application-index"])){t.next=18;break}return t.next=16,y(p);case 16:(d=t.sent)&&s.push(d);case 18:t.next=10;break;case 20:t.next=25;break;case 22:t.prev=22,t.t0=t.catch(8),i.e(t.t0);case 25:return t.prev=25,i.f(),t.finish(25);case 28:return console.log("Properties fetched."),t.abrupt("return",s);case 30:case"end":return t.stop()}}),t,null,[[8,22,25,28]])})));return function(){return t.apply(this,arguments)}}(),y=function(){var e=Object(c.a)(Object(r.a)().mark((function e(t){var n,a,c,o,s,i,l,b,p,x,f,O,m,h,g;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u.c.lookupApplications(t).includeAll(!0).do();case 3:if(!(n=e.sent).application.deleted){e.next=6;break}return e.abrupt("return",null);case 6:return a=n.application.params["global-state"],c=n.application.params.creator,o="",s="",i="",l="",b=0,p=0,x=0,f=function(e,t){return t.find((function(t){return t.key===Object(d.e)(e)}))},void 0!==f("TITLE",a)&&(O=f("TITLE",a).value.bytes,o=Object(d.a)(O)),void 0!==f("IMAGE",a)&&(m=f("IMAGE",a).value.bytes,s=Object(d.a)(m)),void 0!==f("LOCATION",a)&&(h=f("LOCATION",a).value.bytes,i=Object(d.a)(h)),void 0!==f("PRICE",a)&&(b=f("PRICE",a).value.uint),void 0!==f("BOUGHT",a)&&(x=f("BOUGHT",a).value.uint),void 0!==f("RATE",a)&&(p=f("RATE",a).value.uint),void 0!==f("BUYER",a)&&(g=f("BUYER",a).value.bytes,l=Object(d.a)(g)),e.abrupt("return",new j(o,s,i,b,x,p,l,t,c));case 26:return e.prev=26,e.t0=e.catch(0),e.abrupt("return",null);case 29:case"end":return e.stop()}}),e,null,[[0,26]])})));return function(t){return e.apply(this,arguments)}}()}).call(this,n(14).Buffer)},9:function(e,t,n){"use strict";n.d(t,"b",(function(){return d})),n.d(t,"c",(function(){return j})),n.d(t,"e",(function(){return x})),n.d(t,"d",(function(){return f})),n.d(t,"j",(function(){return O})),n.d(t,"i",(function(){return m})),n.d(t,"h",(function(){return h})),n.d(t,"g",(function(){return g})),n.d(t,"f",(function(){return y})),n.d(t,"a",(function(){return v}));var a=n(15),r=n.n(a),c=n(179),o=n.n(c),s="",i="https://node.testnet.algoexplorerapi.io",l="",u="",b="https://algoindexer.testnet.algoexplorerapi.io",p="",d=new r.a.Algodv2(s,i,l),j=new r.a.Indexer(u,b,p),x=new o.a,f=21540981,O="property-dapp:uv2",m=0,h=0,g=3,y=5,v=6}},[[322,1,2]]]);
//# sourceMappingURL=main.2ba15c44.chunk.js.map